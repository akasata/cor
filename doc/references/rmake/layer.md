# レイヤーについて

レイヤーとは層/階層などを意味する言葉です。  
CoRでは、レイヤーには2つの意味があります。

* スプライトの表示順（重なり順）を決定する階層である
* スプライトのグループ

よく行われる使い方としては、以下のようなレイヤー構造を作り、スプライトの重なり順を適切に制御できるようにします。

* 一番奥に指定する背景レイヤー
* キャラクタを表示するキャラクタレイヤー
* 手前に表示するUIレイヤー

## add_layerメソッド

レイヤーを追加するメソッドです。シーンのcreateブロックで使用してください。  
updateブロックやrenderブロックでも使うことはできますが、レイヤーの管理がしにくくなるおそれがあるため、推奨はしません。  
レイヤーの表示順（重なり順）は、このメソッドを呼び出した順番によって決まります。

```ruby
scene 'start' do
  bg_layer = nil
  character_layer = nil
  ui_layer = nil
  
  # preloadブロックは省略
  
  create do
    # 背景レイヤーの追加（一番奥のレイヤー）
    bg_layer = add_layer
    
    # キャラクタレイヤーの追加（真ん中のレイヤー）
    character_layer = add_layer
    
    # UIレイヤーの追加（手前のレイヤー）
    ui_layer = add_layer
  end
end
```

* 引数：なし

### レイヤーへの追加：addメソッド

レイヤーにスプライトを追加するメソッドです。

```ruby
# 背景レイヤーにスプライトを追加する
bg_layer.add bg_sprite
```

* 引数：スプライト
